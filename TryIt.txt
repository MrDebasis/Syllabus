@isTest
private class LoginHistoryTest {
    @isTest
    static void testLoginHistoryQuery() {
        // Create a test user
        User testUser = new User(
            FirstName = 'Test',
            LastName = 'User',
            Alias = 'tuser',
            Email = 'testuser@example.com',
            Username = 'testuser@example.com.salesforce',
            LocaleSidKey = 'en_US',
            EmailEncodingKey = 'UTF-8',
            TimeZoneSidKey = 'America/New_York',
            ProfileId = [SELECT Id FROM Profile WHERE Name = 'Standard User' LIMIT 1].Id,
            LanguageLocaleKey = 'en_US'
        );
        insert testUser;

        // Mock the LoginHistory record Ids
        Test.setFixedSearchResults(new List<Id>{'0YLxxxxxxxxxxxx', '0YLyyyyyyyyyyyy'});

        // Perform the query
        List<LoginHistory> loginHistories = [SELECT Id, LoginTime, SourceIp FROM LoginHistory WHERE UserId = :testUser.Id];

        // Validate results
        System.assertEquals(2, loginHistories.size());
    }
}
