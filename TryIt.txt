handleCancel(event) {
    const rowId = event.target.dataset.id;

    this.processedCases = this.processedCases.map(row => {
        if (row.Id === rowId) {
            return {
                ...row,
                isEditing: false,
                detailRowKeyForSaveAndCancel: null,
                columns: row.columns.map(col => ({
                    ...col,
                    isEditing: false
                }))
            };
        }
        return row;
    });

    // Also remove temporary edits
    delete this.editedValues[rowId];
}

handleEditClick(event) {
    const rowId = event.target.dataset.id;
    const field = event.target.dataset.field;

    this.processedCases = this.processedCases.map(row => {
        if (row.Id === rowId) {
            return {
                ...row,
                isEditing: true,
                detailRowKeyForSaveAndCancel: `${row.Id}-save-cancel`,
                columns: row.columns.map(col => ({
                    ...col,
                    isEditing: col.field === field ? true : col.isEditing // keep others unchanged
                }))
            };
        }
        // Don't change isEditing or columns for other rows!
        return row;
    });
}
