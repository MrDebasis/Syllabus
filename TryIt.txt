if (wrapper.priority != null && String.isNotBlank(wrapper.priority)) {
    record.Priority__c = wrapper.priority;
    record.QuestionValue__c = null;

    if (wrapper.label != null && wrapper.label.toLowerCase().contains('arrival')) {
        record.ArrivalDate__c = Date.valueOf(wrapper.value);
        record.DepartureDate__c = null;
    } else if (wrapper.label != null && wrapper.label.toLowerCase().contains('departure')) {
        record.DepartureDate__c = Date.valueOf(wrapper.value);
        record.ArrivalDate__c = null;
    }
} else {
    record.Priority__c = null;
    record.QuestionValue__c = wrapper.value;
    record.ArrivalDate__c = null;
    record.DepartureDate__c = null;
}
