 async processFile(file) {
        try {
            const fileReader = new FileReader();
            fileReader.readAsDataURL(file);

            // Wait for the file to be read
            const fileData = await new Promise((resolve, reject) => {
                fileReader.onload = () => resolve(fileReader.result.split(',')[1]);
                fileReader.onerror = () => reject(fileReader.error);
            });

            // Split the file into chunks
            const totalChunks = Math.ceil(fileData.length / CHUNK_SIZE);
            let contentDocumentId = null;

            for (let i = 0; i < totalChunks; i++) {
                const start = i * CHUNK_SIZE;
                const end = Math.min(start + CHUNK_SIZE, fileData.length);

                const chunk = fileData.substring(start, end);
                contentDocumentId = await this.uploadChunk({
                    fileName: file.name,
                    base64Data: chunk,
                    contentType: file.type,
                });

                this.file = {
                    name: file.name,
                    status: `Uploading... (${i + 1}/${totalChunks} chunks uploaded)`,
                };
            }

            if (contentDocumentId) {
                alert(`File uploaded successfully! ContentDocumentId: ${contentDocumentId}`);
                this.file = { ...this.file, status: 'Upload Complete' };
            } else {
                throw new Error('File upload failed to generate a ContentDocumentId.');
            }
        } catch (error) {
            console.error('Error uploading file:', error);
            this.file = { name: file.name, status: 'Failed' };
            alert('Failed to upload file. Please try again.');
        }
    }

    async uploadChunk(fileData) {
        try {
            return await uploadFileToContentDocument(fileData);
        } catch (error) {
            console.error('Error uploading chunk:', error);
            throw new Error('Failed to upload chunk. Please try again.');
        }
    }
