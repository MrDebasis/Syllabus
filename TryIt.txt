customDataTable

<template>
    <lightning-datatable
        key-field="Id"
        data={data}
        columns={computedColumns}
        draft-values={draftValues}
        onsave={handleSave}
        onsort={handleSort}
        sorted-by={sortedBy}
        sorted-direction={sortedDirection}
        hide-checkbox-column
        resize-column-disabled
        show-row-number-column="false">
    </lightning-datatable>
</template>


import { LightningElement, api, track } from 'lwc';
import picklistCell from './picklistCell.html';

export default class CustomDataTable extends LightningElement {
    @api data = [];
    @api draftValues = [];
    @api sortedBy;
    @api sortedDirection;
    @api columnConfig = [];

    get computedColumns() {
        return this.columnConfig.map(col => {
            if (col.type === 'picklist') {
                return {
                    ...col,
                    type: 'customPicklist',
                    typeAttributes: {
                        options: col.picklistOptions,
                        value: { fieldName: col.fieldName }
                    },
                    editable: true
                };
            }
            return col;
        });
    }

    handleSave(event) {
        this.dispatchEvent(new CustomEvent('save', { detail: event.detail }));
    }

    handleSort(event) {
        this.dispatchEvent(new CustomEvent('sort', { detail: event.detail }));
    }
}


picklistCell

<template>
    <lightning-combobox
        value={value}
        options={options}
        onchange={handleChange}>
    </lightning-combobox>
</template>


picklistCell

import { LightningElement, api } from 'lwc';

export default class PicklistCell extends LightningElement {
    @api value;
    @api options = [];

    handleChange(event) {
        this.dispatchEvent(new CustomEvent('valuechange', {
            detail: {
                value: event.detail.value
            },
            bubbles: true,
            composed: true
        }));
    }
}


picklistCell.js-meta.xml

<?xml version="1.0" encoding="UTF-8"?>
<LightningComponentBundle xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>59.0</apiVersion>
    <isExposed>false</isExposed>
</LightningComponentBundle>
