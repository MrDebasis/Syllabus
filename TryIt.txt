public class PostDataQueueable implements Queueable, Database.AllowsCallouts {
    private String accountName;
    private String patientNameOrId;

    // Constructor to initialize the parameters
    public PostDataQueueable(String accountName, String patientNameOrId) {
        this.accountName = accountName;
        this.patientNameOrId = patientNameOrId;
    }

    // Execute method to perform the callout
    public void execute(QueueableContext context) {
        try {
            // Prepare the JSON body
            Map<String, Object> requestBody = new Map<String, Object>();
            requestBody.put('accountName', accountName);
            requestBody.put('patientNameOrId', patientNameOrId);

            // Convert the body to JSON format
            String jsonBody = JSON.serialize(requestBody);

            // Set up the HTTP request
            Http http = new Http();
            HttpRequest request = new HttpRequest();
            request.setEndpoint('https://jsonplaceholder.typicode.com/posts');
            request.setMethod('POST');
            request.setHeader('Content-Type', 'application/json; charset=UTF-8');
            request.setBody(jsonBody);

            // Send the request
            HttpResponse response = http.send(request);

            // Process the response
            if (response.getStatusCode() == 201) { // Successful POST response
                System.debug('Response received: ' + response.getBody());
            } else {
                System.debug('Error: Status Code = ' + response.getStatusCode());
                System.debug('Response: ' + response.getBody());
            }
        } catch (Exception ex) {
            System.debug('Exception occurred: ' + ex.getMessage());
        }
    }
}
